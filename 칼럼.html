<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Cute+Font&display=swap" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="team2_1.css">

  <title>POCHELIN GUIDE í¬ìŠë­ê°€ì´ë“œ</title>

  
</head>

<body>
  <header>
    <img src="./images/pohang.jpg" width="40" height="40" alt="í¬í•­">
  <a href="Team2_1.html" class="logo">
    <span class="bold-underline">POCHELIN</span> <span class="blue-text">GUIDE</span>
  </a>
  </header>
  <section class="intro-section">
    <div class="intro-box">
      <div>
        <p>ì•ˆë…•í•˜ì„¸ìš”, í¬ìŠë­ ê°€ì´ë“œì…ë‹ˆë‹¤. <br> ë‚˜ë§Œì˜ ë§›ì§‘ì„ ììœ ë¡­ê²Œ ê³µìœ í•´ì£¼ì„¸ìš”.</p>
      </div>
      <div class="upload-form">
        <form action="#" method="post">
    <input type="text" name="store" placeholder="ë§›ì§‘ ì´ë¦„"><br>
    <input type="text" name="location" placeholder="ìœ„ì¹˜"><br>
    <textarea name="description" placeholder="ê°„ë‹¨í•œ ì†Œê°œ (ëŒ€í‘œ ë©”ë‰´, ê°€ê²© ë“±)"></textarea><br>
    <input type="text" name="contact" placeholder="ì—°ë½ì²˜"><br>
    <input type="text" name="hours" placeholder="ì˜ì—…ì‹œê°„"><br>
    <input type="text" name="hashtags" placeholder="í•´ì‹œíƒœê·¸ ì˜ˆ) #í˜¼ë°¥ #ë°ì´íŠ¸ì½”ìŠ¤"><br>
    <input type="submit" value="ì œì¶œí•˜ê¸°">
  </form>
</div>
    </div>
  </section>

  <section id="submission-message" style="text-align: center; font-weight: bold; margin-top: 30px; color: green; font-size: 24px; transition: opacity 0.5s;">
</section>
  <section id="card-container" style="
  display: flex;
  flex-direction: row;
  align-items: flex-start;
  gap: 20px;
  padding: 20px;
  overflow-x: auto;
  width: 100%;
  box-sizing: border-box;
"></section>


  <section>
  <div class="section-title"> [ğŸŒƒMOODğŸŒƒ] ì–´ë–¤ ë§›ì§‘ì„ ì°¾ìœ¼ì‹œë‚˜ìš”?</div>
  <div class="keyword-links">
    <a href="solo.html">í˜¼ë°¥í•˜ê¸° ì¢‹ì€ ê³³</a><br>
    <a href="date.html">ë°ì´íŠ¸í•˜ê¸° ì¢‹ì€ ë ˆìŠ¤í† ë‘</a><br>
    <a href="meat.html">ì‹œí—˜ ëë‚˜ê³  ê³ ê¸° ë•Œë¦¬ëŠ” ê³³</a><br>
    <a href="meeting.html">íšŒì‹ ì¥ì†Œ</a>
  </div>
  </section>

  <section>
  <div class="section-title"> [ğŸ“CATEGORYğŸ“] ë¬´ì—‡ì„ ë¨¹ì„ê¹Œìš”?</div>
  <div class="food-category">
    <a href="korean.html">í•œì‹</a>
    <a href="western.html">ì–‘ì‹</a>
    <a href="chinese.html">ì¤‘ì‹</a>
    <a href="japanese.html">ì¼ì‹</a>
  </div>
  </section>

  <section>
    <div class="section-title"> [â­REVIEWâ­] ë¡œì»¬ ë§›ì§‘ì„ ì°¾ì•„ì„œ </div>
  </section>

<script>
  const cardContainer = document.getElementById("card-container");
  const message = document.getElementById("submission-message");

  // ğŸ”¹ í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì ì´ë¦„ (ì„¸ì…˜ ìœ ì§€ìš©)
  let currentUser = localStorage.getItem("currentUser") || "";

  if (!currentUser) {
    currentUser = prompt("ì‘ì„±ì ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”:");
    localStorage.setItem("currentUser", currentUser);
  }

  function createCard(data, index) {
    const card = document.createElement("div");
    card.style.flex = "0 0 auto";
    card.style.width = "280px";
    card.style.border = "1px solid #ccc";
    card.style.borderRadius = "15px";
    card.style.padding = "20px";
    card.style.boxShadow = "0 4px 8px rgba(0,0,0,0.1)";
    card.style.backgroundColor = "#f9f9f9";
    card.dataset.index = index;

    card.innerHTML = `
      <h3>${data.store}</h3>
      <p><strong>ìœ„ì¹˜:</strong> ${data.location}</p>
      <p><strong>ì†Œê°œ:</strong> ${data.description}</p>
      <p><strong>ì—°ë½ì²˜:</strong> ${data.contact}</p>
      <p><strong>ì˜ì—…ì‹œê°„:</strong> ${data.hours}</p>
      <p><strong>í•´ì‹œíƒœê·¸:</strong> ${data.hashtags}</p>
      <p><em>ì‘ì„±ì: ${data.author}</em></p>
    `;

    // ğŸ”¹ ì‘ì„±ìë§Œ ìˆ˜ì •/ì‚­ì œ ê°€ëŠ¥
    if (data.author === currentUser) {
      const editBtn = document.createElement("button");
      editBtn.textContent = "ìˆ˜ì •í•˜ê¸°";
      editBtn.className = "edit-btn";
      editBtn.onclick = () => {
        const form = document.querySelector(".upload-form form");
        form.store.value = data.store;
        form.location.value = data.location;
        form.description.value = data.description;
        form.contact.value = data.contact;
        form.hours.value = data.hours;
        form.hashtags.value = data.hashtags;
        form.dataset.editingIndex = index;
      };
      card.appendChild(editBtn);

      const deleteBtn = document.createElement("button");
      deleteBtn.textContent = "ì‚­ì œí•˜ê¸°";
      deleteBtn.className = "delete-btn";
      deleteBtn.onclick = () => {
        const cards = getCards();
        cards.splice(index, 1);
        saveCards(cards);
        renderCards();
      };
      card.appendChild(deleteBtn);
    }

    cardContainer.appendChild(card);
  }

  function saveCards(cards) {
    localStorage.setItem("cards", JSON.stringify(cards));
  }

  function getCards() {
    return JSON.parse(localStorage.getItem("cards") || "[]");
  }

  function renderCards() {
    cardContainer.innerHTML = "";
    const cards = getCards();
    cards.forEach((data, index) => createCard(data, index));
  }

  document.querySelector(".upload-form form").addEventListener("submit", function (event) {
    event.preventDefault();

    const data = {
      store: this.store.value,
      location: this.location.value,
      description: this.description.value,
      contact: this.contact.value,
      hours: this.hours.value,
      hashtags: this.hashtags.value,
      author: currentUser,
    };

    let cards = getCards();

    if (this.dataset.editingIndex !== undefined) {
      const index = parseInt(this.dataset.editingIndex);
      cards[index] = data;
      delete this.dataset.editingIndex;
    } else {
      cards.push(data);
    }

    saveCards(cards);
    renderCards();

    // âœ… ë©”ì‹œì§€ ë³´ì—¬ì£¼ê³  3ì´ˆ ë’¤ ì‚¬ë¼ì§
    message.textContent = "ì œì¶œì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!";
    message.style.opacity = "1";
    setTimeout(() => {
      message.style.opacity = "0";
    }, 3000);

    this.reset();
  });

  window.onload = function () {
    renderCards();
  };
</script>

</body>
</html>